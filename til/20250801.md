# Git 설정 관리

## 목차
1. [Safe Directory 설정 변경](#safe-directory-설정-변경)
   - [문제 상황](#문제-상황)
   - [현재 설정 확인](#현재-설정-확인)
   - [잘못된 설정 제거](#잘못된-설정-제거)
   - [새로운 설정 추가](#새로운-설정-추가)
   - [설정 확인](#설정-확인)
2. [이미 추적 중인 파일을 .gitignore에 추가하기](#이미-추적-중인-파일을-gitignore에-추가하기)
   - [상황 설명](#상황-설명)
   - [Git 인덱스에서 제거](#git-인덱스에서-제거)
   - [변경사항 커밋](#변경사항-커밋)
   - [원격 저장소에 반영](#원격-저장소에-반영)
   - [작업 요약](#작업-요약)

---

## Safe Directory 설정 변경

### 문제 상황
폴더 이름이 '수업정리'에서 'study'로 변경되었지만, Git의 `safe.directory` 설정에는 여전히 이전 경로가 남아있는 상황입니다.

### 현재 설정 확인
```bash
git config --list | grep safe.directory
```

**현재 출력:**
```
safe.directory=/mnt/c/Users/WD/수업정리
safe.directory=/mnt/c/Users/WD/수업정리
```

### 잘못된 설정 제거
기존의 잘못된 safe.directory 설정을 제거합니다:

```bash
git config --global --unset-all safe.directory
```

### 새로운 설정 추가
변경된 폴더 경로로 safe.directory를 다시 설정합니다:

```bash
git config --global --add safe.directory /mnt/c/Users/WD/study
```

### 설정 확인
변경사항이 정상적으로 적용되었는지 확인합니다:

```bash
git config --list | grep safe.directory
```

**예상 출력:**
```
safe.directory=/mnt/c/Users/WD/study
```

**참고:** 
- `--global` 플래그는 전역 설정을 의미합니다
- `--unset-all`은 동일한 키의 모든 값을 제거합니다
- `--add`는 새로운 값을 추가합니다

## 이미 추적 중인 파일을 .gitignore에 추가하기

### 상황 설명
이미 특정 파일이나 폴더가 깃허브(원격 저장소)에 올라가 있고, 이후 .gitignore에 해당 파일을 추가한 상황입니다. 이렇게 하면 이후부터는 해당 파일이 추적되지 않지만, 이미 올라간 파일은 Git에서 제거해줘야 합니다.

### Git 인덱스에서 제거

**개별 파일 제거:**
```bash
git rm --cached [파일이름]
```

**폴더 전체 제거:**
```bash
git rm -r --cached [폴더이름]/
```

**실제 예시:**
```bash
# 로그 파일 제거
git rm --cached debug.log

# 설정 폴더 제거  
git rm -r --cached config/

# IDE 설정 폴더 제거
git rm -r --cached .vscode/

# 빌드 결과물 폴더 제거
git rm -r --cached build/
```

- `--cached` 옵션은 **로컬 파일/폴더는 그대로 두고** Git 버전관리에서만 제거합니다.
- `-r` 옵션은 폴더를 재귀적으로 제거합니다.

### 변경사항 커밋
```bash
git commit -m "Remove [파일/폴더명] from version control"
```

**실제 예시:**
```bash
git commit -m "Remove debug.log from version control"
git commit -m "Remove config folder from version control"
```

- .gitignore 파일이 이미 있으니, 이후부터는 해당 파일들이 자동으로 무시됩니다.

### 원격 저장소에 반영
```bash
git push
```

- 이렇게 하면 깃허브에서도 해당 파일/폴더가 삭제됩니다.

### 작업 요약

| 단계 | 명령어 | 설명 |
|------|--------|------|
| 1 | `git rm --cached [파일명]` 또는 `git rm -r --cached [폴더명]/` | Git 추적에서만 제거 (로컬 파일 유지) |
| 2 | `git commit -m "Remove [파일명] from version control"` | 변경사항 커밋 |
| 3 | `git push` | 원격 저장소에 반영 |

**자주 제거하는 파일/폴더 예시:**
- **로그 파일**: `*.log`, `logs/`
- **IDE 설정**: `.vscode/`, `.idea/`
- **빌드 결과물**: `build/`, `dist/`, `target/`
- **환경 설정**: `.env`, `config.json`
- **임시 파일**: `*.tmp`, `.cache/`

**결과:**
- 이후에는 해당 파일/폴더가 Git에서 관리되지 않습니다
- .gitignore가 정상 동작합니다
- 로컬의 파일/폴더는 사라지지 않고 잘 남아있습니다