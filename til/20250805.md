# Java ë‹¤í˜•ì„±ê³¼ ìºìŠ¤íŒ…

## ğŸ¯ ë‹¤í˜•ì„± (Polymorphism)
- **ì •ì˜**: ì‚¬ìš©ë°©ë²•ì€ ë™ì¼í•˜ì§€ë§Œ ì‹¤í–‰ ê²°ê³¼ê°€ ë‹¤ì–‘í•˜ê²Œ ë‚˜ì˜¤ëŠ” ì„±ì§ˆ
- **êµ¬í˜„ ì¡°ê±´**: `ìë™ íƒ€ì… ë³€í™˜(Up Cast)`ê³¼ `ë©”ì†Œë“œ ì¬ì •ì˜(Method Overriding)`ê°€ í•„ìš”

```mermaid
graph TD
    A[ë‹¤í˜•ì„± êµ¬í˜„] --> B[ìë™ íƒ€ì… ë³€í™˜<br/>Upcasting]
    A --> C[ë©”ì†Œë“œ ì¬ì •ì˜<br/>Method Overriding]
    B --> D[ë¶€ëª¨ íƒ€ì…ìœ¼ë¡œ ì°¸ì¡°]
    C --> E[ì‹¤í–‰ ì‹œì ì— ìì‹ ë©”ì†Œë“œ í˜¸ì¶œ]
    D --> F[ë‹¤í˜•ì„± ì‹¤í˜„]
    E --> F
```

### ğŸ“‹ ë‹¤í˜•ì„±ì˜ ì¢…ë¥˜

#### 1. í•„ë“œ ë‹¤í˜•ì„±
í•„ë“œ íƒ€ì…ì€ ë™ì¼í•˜ì§€ë§Œ, ëŒ€ì…ë˜ëŠ” ê°ì²´ê°€ ë‹¬ë¼ì ¸ì„œ ì‹¤í–‰ ê²°ê³¼ê°€ ë‹¤ì–‘í•˜ê²Œ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ê²ƒ

```java
class Vehicle {
    public void move() {
        System.out.println("ì°¨ëŸ‰ì´ ì´ë™í•©ë‹ˆë‹¤.");
    }
}

class Car extends Vehicle {
    @Override
    public void move() {
        System.out.println("ìë™ì°¨ê°€ ë„ë¡œë¥¼ ë‹¬ë¦½ë‹ˆë‹¤.");
    }
}

class Airplane extends Vehicle {
    @Override
    public void move() {
        System.out.println("ë¹„í–‰ê¸°ê°€ í•˜ëŠ˜ì„ ë‚©ë‹ˆë‹¤.");
    }
}

public class FieldPolymorphism {
    Vehicle vehicle;  // ë™ì¼í•œ í•„ë“œ íƒ€ì…
    
    public void test() {
        vehicle = new Car();      // ìë™ì°¨ ê°ì²´ ëŒ€ì…
        vehicle.move();           // "ìë™ì°¨ê°€ ë„ë¡œë¥¼ ë‹¬ë¦½ë‹ˆë‹¤."
        
        vehicle = new Airplane(); // ë¹„í–‰ê¸° ê°ì²´ ëŒ€ì…
        vehicle.move();           // "ë¹„í–‰ê¸°ê°€ í•˜ëŠ˜ì„ ë‚©ë‹ˆë‹¤."
    }
}
```

#### 2. ë§¤ê°œë³€ìˆ˜ ë‹¤í˜•ì„±
ë©”ì†Œë“œê°€ í´ë˜ìŠ¤ íƒ€ì…ì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ê°€ì§€ê³  ìˆì„ ê²½ìš°, ë¶€ëª¨ íƒ€ì…ìœ¼ë¡œ ì„ ì–¸í•˜ë©´ ìì‹ ê°ì²´ë„ ì „ë‹¬ë°›ì„ ìˆ˜ ìˆìŒ

```java
public class ParameterPolymorphism {
    // ë¶€ëª¨ íƒ€ì… ë§¤ê°œë³€ìˆ˜ë¡œ ë‹¤ì–‘í•œ ìì‹ ê°ì²´ ì²˜ë¦¬
    public void drive(Vehicle vehicle) {
        vehicle.move();  // ì „ë‹¬ë°›ì€ ê°ì²´ì˜ ì‹¤ì œ íƒ€ì…ì— ë”°ë¼ ë‹¤ë¥¸ ë™ì‘
    }
    
    public static void main(String[] args) {
        ParameterPolymorphism pp = new ParameterPolymorphism();
        
        pp.drive(new Car());      // "ìë™ì°¨ê°€ ë„ë¡œë¥¼ ë‹¬ë¦½ë‹ˆë‹¤."
        pp.drive(new Airplane()); // "ë¹„í–‰ê¸°ê°€ í•˜ëŠ˜ì„ ë‚©ë‹ˆë‹¤."
    }
}
```

---

## ğŸ”„ ì—…ìºìŠ¤íŒ… (Upcasting)

### ì •ì˜
ìì† íƒ€ì…ì„ ì¡°ìƒ íƒ€ì…ìœ¼ë¡œ í˜•ë³€í™˜í•˜ëŠ” ê²ƒ (í˜•ë³€í™˜ ì—°ì‚°ì ìƒëµ ê°€ëŠ¥)

### íŠ¹ì§•
```java
Parent p = new Child();  // ìë™ í˜•ë³€í™˜ (ì—…ìºìŠ¤íŒ…)
```

```mermaid
graph TD
    A[Child ê°ì²´] --> B[Parent íƒ€ì… ì°¸ì¡°ë³€ìˆ˜]
    B --> C[ë¶€ëª¨ í´ë˜ìŠ¤ ë©¤ë²„ë§Œ ì ‘ê·¼ ê°€ëŠ¥]
    C --> D[ë©”ì†Œë“œëŠ” ì˜¤ë²„ë¼ì´ë”©ëœ ìì‹ ë©”ì†Œë“œ ì‹¤í–‰]
    
    style A fill:#4CAF50
    style B fill:#2196F3
    style C fill:#FF9800
    style D fill:#9C27B0
```

### ì‹¤ì œ ì˜ˆì‹œ
```java
class Animal {
    String name = "ë™ë¬¼";
    
    public void sound() {
        System.out.println("ë™ë¬¼ ì†Œë¦¬");
    }
    
    public void move() {
        System.out.println("ë™ë¬¼ì´ ì›€ì§ì…ë‹ˆë‹¤");
    }
}

class Dog extends Animal {
    String breed = "ì§„ë—ê°œ";  // ìì‹ë§Œì˜ í•„ë“œ
    
    @Override
    public void sound() {  // ë©”ì†Œë“œ ì˜¤ë²„ë¼ì´ë”©
        System.out.println("ë©ë©!");
    }
    
    public void wagTail() {  // ìì‹ë§Œì˜ ë©”ì†Œë“œ
        System.out.println("ê¼¬ë¦¬ë¥¼ í”ë“­ë‹ˆë‹¤");
    }
}

public class UpcastingExample {
    public static void main(String[] args) {
        // ì—…ìºìŠ¤íŒ… - ìë™ í˜•ë³€í™˜
        Animal animal = new Dog();
        
        // ì ‘ê·¼ ê°€ëŠ¥í•œ ê²ƒë“¤
        System.out.println(animal.name);   // "ë™ë¬¼" (ë¶€ëª¨ í•„ë“œ)
        animal.sound();  // "ë©ë©!" (ìì‹ì—ì„œ ì˜¤ë²„ë¼ì´ë”©ëœ ë©”ì†Œë“œ)
        animal.move();   // "ë™ë¬¼ì´ ì›€ì§ì…ë‹ˆë‹¤" (ë¶€ëª¨ ë©”ì†Œë“œ)
        
        // ì ‘ê·¼ ë¶ˆê°€ëŠ¥í•œ ê²ƒë“¤ (ì»´íŒŒì¼ ì—ëŸ¬)
        // System.out.println(animal.breed);  // ìì‹ í•„ë“œ ì ‘ê·¼ ë¶ˆê°€
        // animal.wagTail();  // ìì‹ ë©”ì†Œë“œ ì ‘ê·¼ ë¶ˆê°€
    }
}
```

### ì—…ìºìŠ¤íŒ…ì˜ ì¥ì 
1. **ì½”ë“œì˜ ì¬ì‚¬ìš©ì„± ì¦ëŒ€**
2. **ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ**
3. **í™•ì¥ì„± ì œê³µ**

```java
// í•˜ë‚˜ì˜ ë©”ì†Œë“œë¡œ ì—¬ëŸ¬ íƒ€ì… ì²˜ë¦¬
public void handleAnimal(Animal animal) {
    animal.sound();  // ê° ë™ë¬¼ë§ˆë‹¤ ë‹¤ë¥¸ ì†Œë¦¬
    animal.move();   // ê¸°ë³¸ ì´ë™ ë°©ì‹
}

// ì‚¬ìš©
handleAnimal(new Dog());    // ë©ë©!
handleAnimal(new Cat());    // ì•¼ì˜¹!
handleAnimal(new Bird());   // ì§¹ì§¹!
```

---

## ğŸ”„ ë‹¤ìš´ìºìŠ¤íŒ… (Downcasting)

### ì •ì˜
ì¡°ìƒ íƒ€ì…ìœ¼ë¡œ ì—…ìºìŠ¤íŒ…ëœ ê°ì²´ë¥¼ ë‹¤ì‹œ ìì† íƒ€ì…ìœ¼ë¡œ í˜•ë³€í™˜í•˜ëŠ” ê²ƒ

### íŠ¹ì§•
- **ëª…ì‹œì  í˜•ë³€í™˜ í•„ìš”**
- **ClassCastException ìœ„í—˜ì„± ì¡´ì¬**
- **instanceof ì—°ì‚°ìë¡œ ì•ˆì „ì„± í™•ë³´ í•„ìš”**

```mermaid
graph TD
    A[ì—…ìºìŠ¤íŒ…ëœ Parent ì°¸ì¡°] --> B{instanceof ì²´í¬}
    B -->|true| C[ì•ˆì „í•œ ë‹¤ìš´ìºìŠ¤íŒ…]
    B -->|false| D[ClassCastException]
    C --> E[Child íƒ€ì…ìœ¼ë¡œ ë³µì›]
    E --> F[ìì‹ ê³ ìœ  ë©¤ë²„ ì ‘ê·¼ ê°€ëŠ¥]
    
    style A fill:#2196F3
    style C fill:#4CAF50
    style D fill:#F44336
    style F fill:#9C27B0
```

### ì‹¤ì œ ì˜ˆì‹œ
```java
public class DowncastingExample {
    public static void main(String[] args) {
        // 1. ì—…ìºìŠ¤íŒ…
        Animal animal = new Dog();
        
        // 2. ì•ˆì „í•˜ì§€ ì•Šì€ ë‹¤ìš´ìºìŠ¤íŒ… (ìœ„í—˜!)
        // Dog dog = (Dog) animal;  // ClassCastException ê°€ëŠ¥ì„±
        
        // 3. ì•ˆì „í•œ ë‹¤ìš´ìºìŠ¤íŒ…
        if (animal instanceof Dog) {
            Dog dog = (Dog) animal;  // ëª…ì‹œì  í˜•ë³€í™˜
            
            // ì´ì œ ìì‹ ê³ ìœ  ë©¤ë²„ ì ‘ê·¼ ê°€ëŠ¥
            System.out.println(dog.breed);  // "ì§„ë—ê°œ"
            dog.wagTail();  // "ê¼¬ë¦¬ë¥¼ í”ë“­ë‹ˆë‹¤"
            dog.sound();    // "ë©ë©!"
        }
        
        // 4. ì˜ëª»ëœ ë‹¤ìš´ìºìŠ¤íŒ… ì˜ˆì‹œ
        Animal animal2 = new Animal();  // ì‹¤ì œë¡œëŠ” Animal ê°ì²´
        
        if (animal2 instanceof Dog) {
            Dog dog2 = (Dog) animal2;  // ì‹¤í–‰ë˜ì§€ ì•ŠìŒ
        } else {
            System.out.println("Dog íƒ€ì…ì´ ì•„ë‹™ë‹ˆë‹¤.");
        }
    }
}
```

### instanceof ì—°ì‚°ì í™œìš©
```java
public void processAnimal(Animal animal) {
    // ê¸°ë³¸ ë™ì‘
    animal.sound();
    
    // íƒ€ì…ë³„ íŠ¹ìˆ˜ ë™ì‘
    if (animal instanceof Dog) {
        Dog dog = (Dog) animal;
        dog.wagTail();
    } else if (animal instanceof Cat) {
        Cat cat = (Cat) animal;
        cat.purr();
    } else if (animal instanceof Bird) {
        Bird bird = (Bird) animal;
        bird.fly();
    }
}
```

---

## ğŸ“Š ìºìŠ¤íŒ… ë¹„êµí‘œ

| êµ¬ë¶„ | ì—…ìºìŠ¤íŒ… | ë‹¤ìš´ìºìŠ¤íŒ… |
|------|----------|------------|
| **ë°©í–¥** | Child â†’ Parent | Parent â†’ Child |
| **í˜•ë³€í™˜** | ìë™ (ìƒëµ ê°€ëŠ¥) | ëª…ì‹œì  (í•„ìˆ˜) |
| **ì•ˆì „ì„±** | í•­ìƒ ì•ˆì „ | ClassCastException ìœ„í—˜ |
| **ì ‘ê·¼ ë²”ìœ„** | ë¶€ëª¨ ë©¤ë²„ë§Œ | ìì‹ ë©¤ë²„ê¹Œì§€ |
| **ì‚¬ìš© ì‹œì ** | ë‹¤í˜•ì„± êµ¬í˜„ ì‹œ | ìì‹ ê³ ìœ  ê¸°ëŠ¥ ì‚¬ìš© ì‹œ |
| **ê²€ì¦ ë°©ë²•** | ë¶ˆí•„ìš” | instanceof ê¶Œì¥ |

---

## ğŸ¯ ì‹¤ë¬´ í™œìš© ì˜ˆì‹œ

### 1. GUI ì»´í¬ë„ŒíŠ¸ ì²˜ë¦¬
```java
public void handleComponent(Component comp) {
    // ê³µí†µ ì²˜ë¦¬
    comp.setVisible(true);
    
    // íƒ€ì…ë³„ íŠ¹ìˆ˜ ì²˜ë¦¬
    if (comp instanceof JButton) {
        JButton btn = (JButton) comp;
        btn.addActionListener(e -> System.out.println("ë²„íŠ¼ í´ë¦­"));
    } else if (comp instanceof JTextField) {
        JTextField field = (JTextField) comp;
        field.setEditable(true);
    }
}
```

### 2. ì»¬ë ‰ì…˜ê³¼ ë‹¤í˜•ì„±
```java
List<Animal> animals = Arrays.asList(
    new Dog(),
    new Cat(),
    new Bird()
);

// ì—…ìºìŠ¤íŒ…ì„ í†µí•œ ì¼ê´„ ì²˜ë¦¬
for (Animal animal : animals) {
    animal.sound();  // ê° ë™ë¬¼ì˜ ê³ ìœ  ì†Œë¦¬
    
    // í•„ìš”ì‹œ ë‹¤ìš´ìºìŠ¤íŒ…
    if (animal instanceof Dog) {
        ((Dog) animal).wagTail();
    }
}
```

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

### 1. ClassCastException ë°©ì§€
```java
// ì˜ëª»ëœ ì˜ˆ
Animal animal = new Dog();
Cat cat = (Cat) animal;  // RuntimeException!

// ì˜¬ë°”ë¥¸ ì˜ˆ
if (animal instanceof Cat) {
    Cat cat = (Cat) animal;
    // ì•ˆì „í•œ ì‚¬ìš©
}
```

### 2. ë¶ˆí•„ìš”í•œ ë‹¤ìš´ìºìŠ¤íŒ… ì§€ì–‘
```java
// ë¹„ê¶Œì¥: ë‹¤ìš´ìºìŠ¤íŒ… ë‚¨ìš©
public void badExample(Animal animal) {
    if (animal instanceof Dog) {
        ((Dog) animal).wagTail();
    }
    // Dogì—ë§Œ í•´ë‹¹í•˜ëŠ” ë¡œì§...
}

// ê¶Œì¥: ë©”ì†Œë“œ ì˜¤ë²„ë¼ì´ë”© í™œìš©
public void goodExample(Animal animal) {
    animal.performSpecialAction();  // ê° í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë”©
}
```

### 3. Modern Java íŒ¨í„´ ë§¤ì¹­ (Java 17+)
```java
// Java 17 ì´í›„ íŒ¨í„´ ë§¤ì¹­
public String getAnimalInfo(Animal animal) {
    return switch (animal) {
        case Dog dog -> "ê°œ: " + dog.getBreed();
        case Cat cat -> "ê³ ì–‘ì´: " + cat.getColor();
        case Bird bird -> "ìƒˆ: " + bird.getWingspan();
        default -> "ì•Œ ìˆ˜ ì—†ëŠ” ë™ë¬¼";
    };
}
```


